
<template name="progressScorePlug">
  <view class='progressScore'>
    <view class="progressScoreContainerHeader">
        
          <view class="progressScoreContainerHeaderScore">
            <view class="progressScoreContainerHeaderAllScore">
                <view class="progressScoreContainerHeaderAllScoreTag">总距离</view>
                <view class="progressScoreContainerHeaderAllScoreContent" id="allScoreDiv"><span id="allScore">{{distance*10}}</span>米</view>
            </view>
            
            <view class="progressScoreContainerHeaderAllScore" style="margin-left: 10px;">
                <view class="progressScoreContainerHeaderAllScoreTag">进度</view>
                <view class="progressScoreContainerHeaderAllScoreContent" id="thisScoreDiv"><span id="thisScore">{{progress*10}}</span>米</view>
            </view>
          </view>
          
          <!--  
          <div class="progressScoreContainerHeaderAllScore" style="margin-top: 10px;">
            <div class="personalAttrDataHeader personalAttrDataHeaderBean" style="float: left;position: relative;top:4px;"></div>
            <div class="progressScoreContainerHeaderAllScoreContent" style="position: relative;left:-20px;top:1px;">330000</div>	
          </div>
          -->
          <view class="progressScoreContainerHeaderLoveLife">
              <view class="personalAttrDataHeaderBig personalAttrDataHeaderLoveBig" id="love1" wx:for="{{loveList}}" wx:for-item="loveItem" wx:if="{{loveItem.type==1}}"></view>
              <view class="personalAttrDataHeaderBig personalAttrDataHeaderLoveHollowBig" id="love1" wx:for="{{loveList}}" wx:for-item="loveItem" wx:if="{{loveItem.type==0}}"></view>
          </view>
          <!--
          <view class="progressScoreContainerHeader2">
            <view class="progressScoreContainerHeaderRank">当前名次第<span id="rank"></span>名</view>	
          </view>
          -->
          <view wx:if="{{loveCooling.status==1}}">
            <view class="progressScoreContainerHeaderCooling" style="display:inline-block">
                <view class="progressScoreContainerHeaderCoolingLabel" style="width:{{loveCooling.schedule/loveCooling.upperLimit*100}}%;"></view>
                <view class="progressScoreContainerHeaderCoolingContent">
                  <view class="progressScoreContainerHeaderCoolingContent1">第<font style="color:red;font-weight:bolder;font-size:15px;">{{loveCooling.coolLoveSeq}}</font>颗 ❤️ 正在恢复中</view>
                  <view class="progressScoreContainerHeaderCoolingContent2">
                    剩余时间：{{loveCooling.hour}}时{{loveCooling.min}}分{{loveCooling.second}}秒
                  </view>
                </view>
            </view>
            <view style="width:50px;height:50px;background:RGBA(114,80,113,1);display:inline-block;color:white;vertical-align:top;border-radius:5px;line-height: 45px;display:none;">
              加速
            </view>
          </view>
    </view>

    <scroll-view scroll-y scroll-top="{{containerScrollTop}}" scroll-with-animation="true" scroll-into-view="toDom{{currentDom}}" id = "progressScoreContainer" style="position: relative;height:100vh"> 
      
      <view class="progressScore" id="progressScore">
            <view class="progressScoreBar">
                <view class="trajectory">
                    <view wx:for="{{targets}}" wx:for-item="target" style="left:{{target.left}}%;top:{{target.top}}px;background:url('{{target.bgUrl}}');background-size:100% 100%;" id="toDom{{target.index}}" class="trajectoryLi" wx:key="id"></view>

                    <block wx:for="{{positions}}" wx:for-item="position">
                      <view  class="fromDom"  id="fromDom" 
                        style="background: url('{{position.imgUrl}}');background-size:100% 100%;position:absolute;z-index: 1001;left:{{position.left}}px;top:{{position.top}}px;" animation="{{position.animationData}}" wx:if="{{position.isMy==1}}"></view>

                        <view  class="fromDom"  id="fromDom" 
                        style="background: url('{{position.imgUrl}}');background-size:100% 100%;position:absolute;z-index: 1000;left:{{position.left}}px;top:{{position.top}}px;" animation="{{position.animationData}}" wx:else></view>
                    </block>
                </view> 
            </view>
      </view>
    </scroll-view>
  </view>

</template>

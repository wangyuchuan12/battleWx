<import src="../assembly/selectInput/selectInput.wxml"/>

<import src="../assembly/baseLayerout/baseLayerout"/>
<template is="baseLayerout" data="{{...baseData}}"/>
<view class="battleHome">
  <view class="" style="text-align:right;padding-top:10px;padding-bottom:10px;padding-right:20px;color:green;height:40px;">
    <view style="text-align:center;width:100px;float:right;" bindtap='createRoomClick'>
      <span class="fa fa-plus" style="font-size:20px;"></span>

      <span style="display:block;font-size:10px;">创建房间</span>
    </view>

    <view style="text-align:center;width:100px;float:right;" bindtap='battleManagerClick' wx:if="{{isManager==1}}">
      <span class="fa fa-database" style="font-size:20px;"></span>

      <span style="display:block;font-size:10px;">管理</span>
    </view>
  </view>
  <view class="battleHomeHeader">
    <image src="http://7xlw44.com1.z0.glb.clouddn.com/0042aeda-d8a5-4222-b79d-1416ab222898" class="battleHomeHeaderImg"></image>

    <block wx:for="{{battles}}" wx:for-item="battle">
      <view class="battleHomeHeaderSelect" bindtap='selectClick' wx:if="{{battle.id==battleId}}"><span class="battleHomeHeaderSelectSpan1">{{battle.content}}</span><span class="fa fa-chevron-down" style="float:right;right:20px;/"></span></view>
    </block>
    <view class="battleHomeHeaderStart" bindtap='randomRoom'>快速开始</view>
  </view>

  <view class="battleHomeContent">

    <view class="battleHomeContentMyself" bindtap='skipToMyRooms'>
      <view class="battleHomeContentMyselfIcon fa fa-pagelines"></view>
      <view class="battleHomeContentMyselfName">我参与的</view>
      <view class="battleHomeContentMyselfIcon2 fa fa-chevron-right"></view>
    </view>
    <scroll-view class="battleHomeContentList">
      <block wx:for="{{rooms}}" wx:for-item="room">
        <view class="battleHomeContentItem" id="{{room.id}}" bindtap='itemClick'>
          <image src="{{room.imgUrl}}" class="battleHomeContentItemImage"></image>
          <view class="battleHomeContentItemPersonal">
            <view class="battleHomeContentItemPersonalName">{{room.name}}</view>
            <view class="battleHomeContentItemPersonalInstruction">{{room.instruction}}</view>
          </view>
          <view class="battleHomeContentItemFooter">
            等待中 {{room.num}}/{{room.maxNum}}
          </view>
        </view>
      </block>
    </scroll-view>
  </view>
</view>

<view class="selectInputList" wx:if="{{selectStatus==1}}">
    <block wx:for="{{battles}}" wx:for-item="item">
      <view class="selectInputItem"  bindtap='selectItemClick' wx:if="{{item.status==0}}" id="{{item.id}}">{{item.content}}</view>
      <view class="selectInputItem" style="background:black;color:white" bindtap='itemClick' wx:else>{{item.content}}</view>
    </block>
</view>


    
